<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>RecycloAI ‚Äì Recyclability Detector</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="{{ url_for('static', filename='css/index.css') }}" />
</head>
<body>
  <header>
    <h1 class="brand" aria-label="RecycloAI">
        <span class="brand-prim">Recyclo</span>
        <svg class="brand-leaf" aria-hidden="true" viewBox="0 0 36 36" width="28" height="28">
            <defs>
            <linearGradient id="gradBrand" x1="0" y1="0" x2="36" y2="36" gradientUnits="userSpaceOnUse">
                <stop offset="0"  stop-color="#22d3ee"/>
                <stop offset="1"  stop-color="#a78bfa"/>
            </linearGradient>
            <filter id="leafGlow" x="-50%" y="-50%" width="200%" height="200%">
                <feGaussianBlur stdDeviation="1.8" result="blur"/>
                <feMerge>
                <feMergeNode in="blur"/>
                <feMergeNode in="SourceGraphic"/>
                </feMerge>
            </filter>
            </defs>
            <path fill="url(#gradBrand)" filter="url(#leafGlow)"
                d="M30 6c-12 2-20 10-24 22 7-4 15-6 22-12-2 4-5 7-9 10 7 0 12-5 12-12 0-3-.4-5-.8-8Z"/>
        </svg>
        <span class="brand-ai" aria-hidden="true">AI</span>
    </h1>
  </header>

  <main>
    <section id="classification-section">
      <div id="webcam-container" class="panel">
        <video id="camera-feed" autoplay muted playsinline></video>

        <div class="controls">
          <button id="start-camera" type="button">Open Camera</button>
          <button id="analyze-button" type="button" disabled>Analyze Item</button>
          <button id="upload-photo" type="button">Upload Photo</button>
          <input id="photo-input" type="file" accept="image/*" capture="environment" hidden />
        </div>
      </div>

      <!-- NEW: Context panel -->
      <div id="context-container" class="panel">
        <h2>Context</h2>

        <!-- City selector -->
        <select id="city-input">
          <option value="default">Use Default Rules</option>
          <option value="Austin, TX">Austin</option>
          <option value="San Francisco, CA">San Francisco</option>
          <option value="Seattle, WA">Seattle</option>
          <option value="Portland, OR">Portland</option>
          <option value="San Jose, CA">San Jose</option>
          <option value="Denver, CO">Denver</option>

          <option value="New York, NY">New York</option>
          <option value="Los Angeles, CA">Los Angeles</option>
          <option value="Chicago, IL">Chicago</option>
          <option value="Boston, MA">Boston</option>
          <option value="Philadelphia, PA">Philadelphia</option>
          <option value="Houston, TX">Houston</option>
          <option value="Miami, FL">Miami</option>
          <option value="Phoenix, AZ">Phoenix</option>
          <option value="Washington, DC">Washington, DC</option>
          <option value="Atlanta, GA">Atlanta</option>
          <option value="Minneapolis, MN">Minneapolis</option>
        </select>


        <!-- Attribute checkboxes (plain language) -->
        <div class="attrs">
          <label><input id="attr-soft_bag" type="checkbox"> Soft bag / plastic wrap</label>
          <label><input id="attr-foam" type="checkbox"> Foam / Styrofoam</label>
          <label><input id="attr-paper_cup_or_carton" type="checkbox"> Paper cup or carton</label>
          <label><input id="attr-greasy_or_wet" type="checkbox"> Greasy / wet</label>
          <label><input id="attr-hazard" type="checkbox"> Battery / chemicals (use special drop-off)</label>
        </div>

      </div>

      <div id="logs-container" class="panel">
        <h2>Classification Results</h2>
        <ul id="context-list"></ul>
      </div>
    </section>

    <div style="text-align:center; margin-top:2rem;">
      <a href="{{ url_for('charities') }}"
         style="background:#22d3ee; padding:1rem 1.5rem; border-radius:12px; color:#0f172a; font-weight:bold; text-decoration:none;">
        üåç Explore Verified Recycling Charities
      </a>
    </div>
  </main>

  <footer>
    <p>&copy; 2025 RecycloAI</p>
  </footer>

  <script src="{{ url_for('static', filename='js/script.js') }}"></script>
</body>
</html>
