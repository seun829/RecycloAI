This file is a merged representation of the entire codebase, combined into a single document by Repomix.

<file_summary>
This section contains a summary of this file.

<purpose>
This file contains a packed representation of the entire repository's contents.
It is designed to be easily consumable by AI systems for analysis, code review,
or other automated processes.
</purpose>

<file_format>
The content is organized as follows:
1. This summary section
2. Repository information
3. Directory structure
4. Repository files (if enabled)
5. Multiple file entries, each consisting of:
  - File path as an attribute
  - Full contents of the file
</file_format>

<usage_guidelines>
- This file should be treated as read-only. Any changes should be made to the
  original repository files, not this packed version.
- When processing this file, use the file path to distinguish
  between different files in the repository.
- Be aware that this file may contain sensitive information. Handle it with
  the same level of security as you would the original repository.
</usage_guidelines>

<notes>
- Some files may have been excluded based on .gitignore rules and Repomix's configuration
- Binary files are not included in this packed representation. Please refer to the Repository Structure section for a complete list of file paths, including binary files
- Files matching patterns in .gitignore are excluded
- Files matching default ignore patterns are excluded
- Files are sorted by Git change count (files with more changes are at the bottom)
</notes>

</file_summary>

<directory_structure>
.codesandbox/
  tasks.json
  template.json
.devcontainer/
  devcontainer.json
static/
  Account.css
  index.css
  script.js
templates/
  home.html
topic_prompts/
  directive.txt
c2cbot.code-workspace
pyproject.toml
README.md
replit_zip_error_log.txt
requirements.txt
</directory_structure>

<files>
This section contains the contents of the repository's files.

<file path="static/Account.css">
.AccountForm {
  margin: 0;
  height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 18px;
  background-size: cover;
}

.container {
  width: 400px;
  max-width: 400px;
  margin-top: 10vh;
  padding: 2rem;
  box-shadow: 0 0 40px rgba(0, 0, 0, 0.2);
  border-radius: 4px;
  background: #ffffff;
}

.container,
.form__input,
.form__button {
  font: 500 1rem "Quicksand", sans-serif;
}

.form__button {
  background-color: #c49851;
  width: 100%;
  border-color: black;
  font-weight: bold;
  color: #ffffff;
  font-size: 20px;
  border-radius: 4px;
  cursor: pointer;
  padding: 1rem 2rem;
}

.form__title {
  margin-bottom: 30px;
  text-align: center;
}

.form__input-group {
  margin-bottom: 18px;
}

.form__input {
  display: block;
  width: 100%;
  padding: 0.75rem;
  box-sizing: border-box;
  border-radius: 4px;
  border: 1px solid #dddddd;
  outline: none;
  background: #eeeeee;
}

.form__input:focus {
  border-color: #d17d17;
  background: #ffffff;
}

.form__button:hover {
  background: #a5691e;
}

.form__text {
  text-align: center;
}

.form__link {
  color: #252c6a;
  text-decoration: none;
  cursor: pointer;
}

.form__input-error-message {
  margin-top: 0.5rem;
  font-size: 0.85rem;
  color: #cc3333;
}

.form__input-message {
  margin-top: 0.5rem;
  font-size: 0.85rem;
  color: #00bd9b;
}

.form__link:hover {
  text-decoration: underline;
}

/* .form__message {
      text-align: center;
      margin-bottom: 1rem;
    }
    
    .form__message--success {
      color: #4bb544;
    }
    
    .form__message--error {
      color: #cc3333;
    } */
/* .form__input--error {
      color: #cc3333;
      border-color: #cc3333;
    }
    
    
    
    /* .account-itms {
      height: 58vh;
      width: 90vw;
      margin-left: 5vw;
      margin-top: 230px;
      border-radius: 5px;
      background-color: #f2f2f2;
      padding: 20px;
    }
    
    .Header {
      display: flex;
      flex-direction: row;
      padding-bottom: 4vh;
    }
    
    .Header3 {
      padding-left: 33.5vw;
    }
    
    .Header4 {
      padding-left: 12vw;
    }
    
    .Uname,
    textarea {
      width: 25vw;
      padding: 12px;
      border: 1px solid #ccc;
      border-radius: 4px;
      box-sizing: border-box;
      margin-top: 6px;
      margin-bottom: 16px;
      resize: vertical;
    }
    
    .Pword,
    textarea {
      width: 25vw;
      padding: 12px;
      border: 1px solid #ccc;
      border-radius: 4px;
      box-sizing: border-box;
      margin-top: 6px;
      margin-bottom: 16px;
      resize: vertical;
    }
    
    .label {
      display: flex;
      justify-content: flex-start;
      margin-left: 32.5vw;
      font-family: "Times New Roman", Times, serif;
    } */
</file>

<file path="c2cbot.code-workspace">
{
	"folders": [
		{
			"path": "."
		}
	],
	"settings": {}
}
</file>

<file path="pyproject.toml">
[tool.poetry]
name = "python-template"
version = "0.1.0"
description = ""
authors = ["Your Name <you@example.com>"]

[tool.poetry.dependencies]
python = ">=3.10.0,<3.11"
flask = "^3.0.0"
gunicorn = "^21.2.0"
flask-session = "^0.8.0"
openai = "^1.16.1"

[tool.pyright]
# https://github.com/microsoft/pyright/blob/main/docs/configuration.md
useLibraryCodeForTypes = true
exclude = [".cache"]

[tool.ruff]
# https://beta.ruff.rs/docs/configuration/
select = ['E', 'W', 'F', 'I', 'B', 'C4', 'ARG', 'SIM']
ignore = ['W291', 'W292', 'W293']

[build-system]
requires = ["poetry-core>=1.0.0"]
build-backend = "poetry.core.masonry.api"
</file>

<file path="replit_zip_error_log.txt">
{"error":".zip archives do not support non-regular files","level":"error","msg":"unable to write file .cache/replit/modules/python-3.10","time":"2024-10-16T22:07:48Z"}
{"error":".zip archives do not support non-regular files","level":"error","msg":"unable to write file .cache/replit/modules/replit","time":"2024-10-16T22:07:48Z"}
{"error":".zip archives do not support non-regular files","level":"error","msg":"unable to write file .pythonlibs/bin/python","time":"2024-10-16T22:07:48Z"}
{"error":".zip archives do not support non-regular files","level":"error","msg":"unable to write file .pythonlibs/bin/python3","time":"2024-10-16T22:07:48Z"}
{"error":".zip archives do not support non-regular files","level":"error","msg":"unable to write file .pythonlibs/bin/python3.10","time":"2024-10-16T22:07:48Z"}
</file>

<file path="requirements.txt">
Flask==2.3.3
</file>

<file path=".codesandbox/tasks.json">
{
  // These tasks will run in order when initializing your CodeSandbox project.
  "setupTasks": ["pip install -r requirements.txt"],

  // These tasks can be run from CodeSandbox. Running one will open a log in the app.
  "tasks": {
    "start": {
      "name": "start",
      "command": "python main.py",
      "runAtStart": true,
      "preview": {
        "port": 5000
      }
    }
  }
}
</file>

<file path="templates/home.html">
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Home Fire Monitoring System</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Link to the updated CSS file -->
    <link rel="stylesheet" href="{{ url_for('static', filename='index.css') }}">
</head>
<body>
    <header>
        <h1>Home Fire Monitoring System</h1>
    </header>

    <main>
        <section id="monitoring-section">
            <div id="webcam-container">
                <video id="camera-feed" autoplay muted playsinline></video>
                <button id="analyze-button">Scan for Fire</button>
            </div>
            <div id="logs-container">
                <h2>Detection Logs</h2>
                <ul id="context-list"></ul>
            </div>
        </section>
    </main>

    <footer>
        <p>&copy; 2023 FireGuard Inc.</p>
    </footer>

    <!-- Link to the updated JavaScript file -->
    <script src="{{ url_for('static', filename='script.js') }}"></script>
    <script>
        // Automatically trigger fire scanning every 10 seconds
        setInterval(() => {
            const analyzeButton = document.getElementById('analyze-button');
            if (analyzeButton) {
                analyzeButton.click();
            }
        }, 10000);
    </script>
</body>
</html>
</file>

<file path="topic_prompts/directive.txt">
If there is a fire-related situation, always produce a message tailored to the severity level of the threat as follows:

1. **For an imminent fire emergency** (e.g., fire detected in the home, immediate danger to life):
   *Warning: Fire Emergency Detected*
   "A fire has been detected in your home. Please evacuate immediately to a safe location. The fire department has been notified and is en route to assist. Do not attempt to investigate or extinguish the fire yourself. Call 911 if additional details need to be reported. Stay safe and follow emergency procedures."

2. **For a high-risk fire hazard** (e.g., unattended cooking, smoldering objects):
   *Caution: High Fire Risk*
   "A potentially dangerous fire hazard has been detected. Please address the situation immediately to prevent an emergency. For example, turn off the stove or ensure that flammable materials are extinguished. Stay vigilant and ensure your safety."

3. **For a moderate fire hazard** (e.g., unattended candle, fireplace concerns):
   *Reminder: Fire Safety Notice*
   "A potential fire risk has been identified, such as an unattended candle. Please extinguish the flame or address the situation promptly to avoid escalation. Always remain aware of fire safety precautions."

If no fire-related threats or hazards are detected, respond with:
   "No fire hazards detected. Stay safe and continue to practice fire safety precautions in your home. (then describe what you see in the image)"
</file>

<file path=".codesandbox/template.json">
{
  "title": "Python Flask Server",
  "description": "This is an example of a Flask server running \"hello world\"",
  "iconUrl": "https://raw.githubusercontent.com/codesandbox/sandbox-templates/main/python-flask-server/.codesandbox/icon.png",
  "tags": ["python", "pip", "flask", "http-server", "backend"],
  "published": true
}
</file>

<file path=".devcontainer/devcontainer.json">
{
  "name": "Devcontainer",
  "image": "mcr.microsoft.com/devcontainers/python:3.8-bookworm",
  "customizations": {
    "vscode": {
      "extensions": ["ms-python.python"]
    }
  }
}
</file>

<file path="static/index.css">
/* Reset default browser styles */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

/* Body Styling */
body {
  font-family: "Arial", sans-serif;
  background-color: #f4f7f6;
  color: #333;
  display: flex;
  flex-direction: column;
  min-height: 100vh;
}

/* Header Styling */
header {
  background-color: #ff5f5f;
  color: #fff;
  padding: 20px;
  text-align: center;
}

header h1 {
  font-size: 2em;
}

/* Main Content Styling */
main {
  flex: 1;
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 20px;
}

#monitoring-section {
  display: flex;
  flex-direction: column;
  align-items: center;
  width: 100%;
  max-width: 800px;
}

/* Webcam Container Styling */
#webcam-container {
  position: relative;
  width: 100%;
  max-width: 640px;
  margin-bottom: 30px;
}

#camera-feed {
  width: 100%;
  border: 5px solid #ff5f5f;
  border-radius: 10px;
}

#analyze-button {
  position: absolute;
  bottom: 20px;
  right: 20px;
  padding: 12px 18px;
  background-color: #ff5f5f;
  color: #fff;
  border: none;
  border-radius: 5px;
  font-size: 1em;
  cursor: pointer;
  opacity: 0.8;
  transition: opacity 0.3s;
}

#analyze-button:hover {
  opacity: 1;
}

/* Logs Container Styling */
#logs-container {
  width: 100%;
  max-width: 640px;
  background-color: #fff;
  border: 1px solid #ddd;
  border-radius: 10px;
  padding: 20px;
}

#logs-container h2 {
  margin-bottom: 15px;
  color: #ff5f5f;
  font-size: 1.5em;
  text-align: center;
}

#context-list {
  list-style-type: none;
  max-height: 250px;
  overflow-y: auto;
  padding: 0;
}

#context-list li {
  background-color: #f9f9f9;
  padding: 12px;
  margin-bottom: 10px;
  border-radius: 5px;
  border-left: 5px solid #ff5f5f;
  font-size: 1em;
}

#context-list li:last-child {
  margin-bottom: 0;
}

/* Footer Styling */
footer {
  background-color: #222;
  color: #aaa;
  text-align: center;
  padding: 10px;
}

footer p {
  font-size: 0.9em;
}
</file>

<file path="static/script.js">
// This script controls the webcam and sends the captured image to the server for fire analysis.

document.addEventListener("DOMContentLoaded", () => {
  const video = document.getElementById("camera-feed");
  const analyzeButton = document.getElementById("analyze-button");
  const contextList = document.getElementById("context-list");

  // Access the user's webcam
  navigator.mediaDevices.getUserMedia({ video: true })
      .then((stream) => {
          video.srcObject = stream;
      })
      .catch((err) => {
          console.error("Error accessing webcam: ", err);
      });

  analyzeButton.addEventListener("click", () => {
      const canvas = document.createElement("canvas");
      canvas.width = video.videoWidth;
      canvas.height = video.videoHeight;
      const context = canvas.getContext("2d");
      context.drawImage(video, 0, 0, canvas.width, canvas.height);

      // Convert canvas to base64 image
      const imageData = canvas.toDataURL("image/jpeg");

      // Send image data to the server for analysis
      fetch("/process_image", {
          method: "POST",
          headers: {
              "Content-Type": "application/json"
          },
          body: JSON.stringify({ image_data: imageData })
      })
          .then((response) => response.json())
          .then((data) => {
              if (data.error) {
                  console.error("Error: ", data.error);
              } else {
                  // Display the fire detection context in the list
                  const listItem = document.createElement("li");
                  listItem.textContent = data.context;
                  contextList.appendChild(listItem);
              }
          })
          .catch((error) => {
              console.error("Error processing image: ", error);
          });
  });
});
</file>

<file path="README.md">
# c2cbot
# c2cbot
# c2cbot
# c2cbot
# c2cbot
</file>

</files>
